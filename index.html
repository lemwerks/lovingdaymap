<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <meta property="og:title" content="The Map of Loving Day">
  <meta property="og:description" content="Loving Day - View the spread of Anti-Miscegination Laws over time.">
  <meta property="og:image" content="https://raw.githubusercontent.com/lemwerks/lovingdaymap/master/loving-day-map.png">
  <meta property="og:url" content="http://bit.ly/lovingmap">
  <title>Loving Day</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />
  <link href="https://fonts.googleapis.com/css?family=Lora:700|Oxygen:300,400,700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Oxygen', sans-serif;
    }
    #map {
      width: 100%;
      height: 100%;
    }
    #map-container {
      width: 100vw;
      height: 50vw;
    }
    #sliderbar {
      text-align: center;
      padding: 10px;
    }
    #sliderbar input {
      display: inline-block;
      width: 75vw;
    }
    .content {
      width: 80vw;
      padding: 10px;
      margin: 0 auto;
    }
    h1, h2, h3 {
      font-family: 'Lora', serif;
    }
    .is-centered {
      text-align: center;
    }
  </style>
</head>
<body>

<div>
  <div class="content is-centered">
    <h1>Loving Day</h1>
    <p></p>
  </div>
</div>
<div id='map-container'>
  <div id='map'></div>
</div>
<div class='session is-centered' id='sliderbar'>
  <p>Year: <label id='active-year'></label></p>
  <span>
    <span>1780</span>
    <input id='slider' type='range' min='1780' max='1967' step='1' value='1780' />
    <span>1967</span>
  </span>
  <p><em>Drag the slider to see when states allowed interracial marriage.</em></p>
</div>
<div>
  <div class="content">
    <p>
      Loving Day is celebrated on June 12 of every year and marks the day the Supreme Court made a ruling in the case of <i><a href="https://www.encyclopediavirginia.org/Loving_v_Virginia_1967" target="new">Loving v. Virginia</a></i>
       in 1967. This ruling brought down any laws that made it illegal for people of two different races to marry. It's grown from a quietly celebrated day among those in the know, to a full on call
      <a href="http://www.lovingday.org/" target="new">for celebration</a> and in 2016 it was made into an award winning film, <i><a href="http://www.focusfeatures.com/loving" target="new">Loving</a></i>.</p>
    <p>
      Up until this point it was illegal for a mixed-race couple to marry. Mildred and Richard Loving were often separated and forced to spend time apart in jail. Eventually they
      found themselves in Washington, DC which did accept their relationship. Prior to 1967 several states had began overturning bans that prevented couples from marrying (and some states
      had no bans), but it wasn't until the Supreme Court made their ruling that it was federally seen as illegal.</p>
    <p>
      The implication of the verdict has had a lasting impact. In 1967 only 3% of newlyweds in the US were mixed race marriages, and in 2015 17% (one in six) newlyweds were married to someone of a different race.
      The ruling from <i>Loving v. Virginia</i> was also cited as the basis of the 2015 case, <i>Obergefell v. Hodges</i> making same sex marriages legal.
    </p>
    <p>
      In addition to showing and bringing to the forefront these stories in our American history, it's equally important to understand that changes like this take time. Note how there are long stretches of times where
      no change occurs in these laws. Sometimes in the span of 50 years. Love can take time. Doing the right thing can take time. 
    </p>

    <p class="is-centered"><small>Created with ❤️ at <a href"https://codefordc.org/">Code for DC</a> by:<br>Courtney Brousseau, Connor Browne, Ning Chi, Alex Curtis, Vinesh Kannan, Shuxi Lian, and Lemuel H. Thornton III</small></p>
    <p class="is-centered"><small>You can view the <a href="https://github.com/lemwerks/lovingdaymap" target="blank">source code</a> for this project on GitHub.</small></p>
  </div>
</div>


<script>
mapboxgl.accessToken = 'pk.eyJ1IjoibGVtd2Vya3MiLCJhIjoiY2p5enkwdnVkMDI5NjNocWlsd3gzd2R5NSJ9._yy0r9hidV2EXAjBCLN8SQ';
const map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/lemwerks/cjwsozto41gzg1cmjx6dskna3',
  center: [-95.733562, 38.871847],
  maxBounds: [
    [-140, 20],
    [-50, 50]
  ],
  interactive: false
});
map.on('load', function(loaded) {
  map.setFilter('lovingday', ['<=', ['number', ['get', 'lovingday']], 1776]);
  sliderLabel.innerText = '1776'
});
const slider = document.getElementById('slider');
const sliderLabel = document.getElementById('active-year');
slider.addEventListener('input', function(e) {
  const year = parseInt(slider.value);
  map.setFilter('lovingday', ['<=', ['number', ['get', 'lovingday']], year]);
  sliderLabel.innerText = year;
});
//
</script>

</body>
</html>
